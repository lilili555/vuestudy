<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>计算属性</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }
        
        audio {
            background: #153e5d;
        }
        
        ul {
            list-style: none;
        }
        
        li {
            margin: 20px;
            padding: 20px;
            background: #a189a1;
            border-radius: 5px;
        }
        
        .active {
            background: #2e32f5;
        }
    </style>
</head>

<body>
    <div id="app">
        <audio :src='computeindex' autoplay controls></audio>
        <ul>
            <li v-for='(item,index) in musicData' @click=handller(index) :class='{active: curindex==index}'>
                <h1> {{item.id}} </h1>
                <h2>{{item.name}}</h2>
            </li>

        </ul>
    </div>
    <script src="../vue.js"></script>
    <script>
        var musicData = [

            {
                id: 1,
                name: '布拉格广场_蔡依林&周杰伦',
                ssrc: '../static/布拉格广场_蔡依林&周杰伦.mp3'
            }, {
                id: 2,
                name: '酷我音乐',
                ssrc: '../static/酷我音乐.mp3'
            }, {
                id: 3,
                name: '周杰伦★无与伦比的',
                ssrc: '../static/周杰伦★无与伦比的.mp3'
            },
        ];
        let vm = new Vue({
            el: '#app',
            data() {
                return {
                    musicData: musicData,
                    curindex: 0
                }
            },
            methods: {
                handller(index) {
                    this.computeindex = index;
                }
            },
            computed: {
                computeindex: {

                    get: function() {
                        return this.musicData[this.curindex].ssrc;
                    },
                    set: function(newv) {
                        this.curindex = newv;
                    },

                }
            },
        })
    </script>
</body>

</html>